schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: d97e4e2fa3da9aab1ce89c69dcc4fc0d
      size: 4469
    params:
      params.yaml:
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw
      hash: md5
      md5: 81b113e8dc18c0b097a0e6b4aef43a46.dir
      size: 8191
      nfiles: 2
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 5c2a524a8193d6a7c6366211094a9ed4
      size: 1521
    - path: data/raw/train.csv
      hash: md5
      md5: 32411430e93764584666ce32048f6bf8
      size: 6670
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 72ab680d346fb2c6543130ac26f90dd4
      size: 3856
    outs:
    - path: data/interim/test_processed.csv
      hash: md5
      md5: 35dd81747e7442e9fcb82639e640595a
      size: 1108
    - path: data/interim/train_processed.csv
      hash: md5
      md5: aaef9f838fd20b4a82c6c8db075f6c06
      size: 4833
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/interim/train_processed.csv
      hash: md5
      md5: aaef9f838fd20b4a82c6c8db075f6c06
      size: 4833
    - path: src/model/model_building.py
      hash: md5
      md5: 3df6d1ac6c6e22ff9f19df8dbe39bc65
      size: 5662
    params:
      params.yaml:
        model_building.learning_rate: 0.08
        model_building.max_depth: 20
        model_building.max_features: 1000
        model_building.n_estimators: 100
        model_building.ngram_range:
        - 1
        - 3
    outs:
    - path: lgbm_model.pkl
      hash: md5
      md5: 782d4a420af838b534a5141b8889b524
      size: 21274
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 7a9b24441ead2b63319670a1b07bd303
      size: 43533
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: data/interim/test_processed.csv
      hash: md5
      md5: 35dd81747e7442e9fcb82639e640595a
      size: 1108
    - path: data/interim/train_processed.csv
      hash: md5
      md5: aaef9f838fd20b4a82c6c8db075f6c06
      size: 4833
    - path: lgbm_model.pkl
      hash: md5
      md5: 782d4a420af838b534a5141b8889b524
      size: 21274
    - path: src/model/model_evaluation.py
      hash: md5
      md5: f2a0c75c2b94feb4e86b195ef4abbd8c
      size: 6884
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 7a9b24441ead2b63319670a1b07bd303
      size: 43533
    outs:
    - path: experiment_info.json
      hash: md5
      md5: 26bb07359e8c562a9e28aa30c85df48b
      size: 87
  model_registration:
    cmd: python src/model/register_model.py
    deps:
    - path: experiment_info.json
      hash: md5
      md5: 26bb07359e8c562a9e28aa30c85df48b
      size: 87
    - path: src/model/register_model.py
      hash: md5
      md5: 4304c672dceee8946ab1631a8384c51b
      size: 2500
